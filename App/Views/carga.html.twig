<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../../Public/css/segundoRegistro.css">
    <title>Formulario con Alert</title>
    <script>
        // Alerta que se muestra al cargar la página
        window.onload = function() {
            alert("Su pago ha sido realizado correctamente, debe llenar más datos.");
            document.getElementById("formulario").style.display = "block";
        }

        // Función para habilitar campos dependiendo de la selección y cambiar el action del formulario
        function toggleFields() {
            const tipoUsuario = document.getElementById("tipoUsuario").value;
            const campoDeporte = document.getElementById("campoDeporte");
            const campoCondicion = document.getElementById("campoCondicion");
            const formulario = document.getElementById("formulario");

            if (tipoUsuario === "deportista") {
                campoDeporte.style.display = "block";
                campoCondicion.style.display = "none";
                formulario.action = "/twig/guardarDeportista"; // Cambia el action para deportista
            } else if (tipoUsuario === "paciente") {
                campoDeporte.style.display = "none";
                campoCondicion.style.display = "block";
                formulario.action = "/twigA/guardarPaciente"; // Cambia el action para paciente
            } else {
                campoDeporte.style.display = "none";
                campoCondicion.style.display = "none";
                formulario.action = "#";
            }
        }
    </script>

</head>
<body>

<h1>Formulario Adicional</h1>
<form id="formulario" action="#" method="post">
    <label for="deporte">Numero de Documento</label>
    <input type="text" id="deporte" name="nroDocumento" value="{{ documento }}" readonly><br><br>

    <select name="tipoDocumento">
        <option value="CI">Cédula de identidad</option>
        <option value="Pasaporte">Pasaporte</option>
    </select><br><br>
    <label for="tipoUsuario">Tipo de Usuario:</label>
    <select id="tipoUsuario" name="tipoUsuario" onchange="toggleFields()" required>
        <option value="" disabled selected>Seleccione una opción</option>
        <option value="deportista">Deportista</option>
        <option value="paciente">Paciente</option>
    </select><br><br>

    <div id="campoDeporte" style="display: none;">
        <label for="deporte">Deporte Practicado:</label>
        <input type="text" id="deporte" name="deporte"><br><br>
        <label for="deporte">Posicion:</label>
        <input type="text" id="posicion" name="posicion"><br><br>
    </div>

    <div id="campoCondicion" style="display: none;">
        <label for="condicion">Condición Médica:</label>
        <input type="text" id="condicion" name="condicion"><br><br>
    </div>

    <input type="submit" value="Enviar">
</form>
<footer class="footer">
    <h1>Gracias por elegirnos!</h1>
    <h2>Nuestras Redes</h2>
    <div class="redes">
        <a href="https://www.instagram.com/fidatdevs/" class="ig-logo">
            <i class="fab fa-instagram"></i>
        </a>
        <a href="https://github.com/Proyecto3Fidat/ProyectoEgreso" class="github-logo">
            <i class="fab fa-github"></i>
        </a>
    </div>
    <h4>Copyright <span>&copy;</span> GYM 2024</h4>
</footer>
</body>
</html>